@import '~terra-mixins/lib/Mixins';
@import '../clinical-lowlight-theme/Tab.module';
@import '../orion-fusion-theme/Tab.module';

:local {
  .tab,
  .tab-menu {
    background-color: var(--terra-application-workspace-tab-menu-background-color, transparent);
    background-image: var(--terra-application-workspace-tab-menu-background-image, linear-gradient(to bottom, #fff, #dedfe0)); // TODO: new
    box-sizing: border-box;
    border: 1px solid #868A8C; // TODO: new
    border-bottom: 0;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    cursor: pointer;
    display: flex;
    height: var(--terra-application-workspace-tab-height, 33px);
    margin-right: 2px; // TODO: new
    min-width: 0;
    outline: none;
    position: relative;
    
    .inner {
      align-items: center;
      display: flex;
      flex: 1 1 auto;
      height: 100%;
      justify-content: space-around;
      overflow: hidden;
      padding-right: 15px;
      padding-left: 15px;
      pointer-events: none;
    }

    .icon,
    .label {
      color: var(--terra-application-workspace-tab-icon-label-color, #434a4d);
      line-height: 1.21428;
    }

    .label {
      flex: 0 1 auto;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      word-break: normal;
      word-wrap: normal;
    }

    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none), (hover: hover) and (pointer: fine) {
      &:hover {
        background-color: var(--terra-application-workspace-tab-hover-background-color, transparent);
        background-image: var(--terra-application-workspace-tab-hover-background-image, linear-gradient(to bottom, #fff, #e8e9ea));

        .icon,
        .label {
          color: var(--terra-application-workspace-tab-hover-icon-label-color, #1c1f21);
        }
      }
    }

    &[data-focus-styles-enabled='true']:focus {
      outline: none;

      &::before {
        border: var(--terra-application-workspace-tab-focus-before-border, 2px dashed #000);
        bottom: var(--terra-application-workspace-tab-focus-before-bottom, 1px);
        box-shadow: var(--terra-application-workspace-tab-focus-before-box-shadow, none);
        content: '';
        left: var(--terra-application-workspace-tab-focus-before-left, 1px);
        position: absolute;
        right: var(--terra-application-workspace-tab-focus-before-right, 1px);
        top: var(--terra-application-workspace-tab-focus-before-top, 1px);
      }
    }

    &.is-active {
      background-color: var(--terra-application-workspace-tab-is-active-background-color, #fff); // TODO: new
      background-image: none; // TODO: new
      height: var(--terra-application-workspace-tab-is-active-height, 34px); // TODO: new

      .icon,
      .label {
        color: var(--terra-application-workspace-tab-is-active-icon-label-color, #1c1f21);
        margin-top: var(--terra-application-workspace-tab-is-active-icon-label-margin-top, -1px);  // TODO: new
      }
    }
  }

  .tab {
    flex: 0 1 auto;
    min-width: var(--terra-application-workspace-tab-min-width, 76px);

    .inner {
      text-align: center;
    }
  }

  .tab-menu {
    display: flex;
    flex: 0 0 auto;
    justify-content: center;

    svg {
      color: var(--terra-application-workspace-tab-menu-svg-color, #434a4d);
      flex: 0 0 auto;
      height: var(--terra-application-workspace-tab-menu-svg-height, 0.8571rem);
    }

    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none), (hover: hover) and (pointer: fine) {
      &.is-active:hover {
        background-color: var(--terra-application-workspace-tab-menu-is-active-hover-background-color, transparent);
        background-image: var(--terra-application-workspace-tab-menu-is-active-hover-background-image, linear-gradient(to bottom, #f4f4f4, #fff));

        .icon,
        .label {
          color: var(--terra-application-workspace-tab-hover-icon-label-color, #1c1f21);
        }
      }
    }
  }

  [data-tab-is-calculating="true"] {
    > .tab {
      flex: 0 0 auto;
    }
  }
}
